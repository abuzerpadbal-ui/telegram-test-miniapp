<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Admin Panel</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f4f8; padding: 20px; }
h1 { color: #2c3e50; }
input, textarea, select, button { display: block; margin: 10px 0; padding: 8px; width: 100%; }
button { background: #3498db; color: white; border: none; cursor: pointer; }
button:hover { background: #2980b9; }
.card { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
</style>
</head>
<body>
<h1>üìù Test yaratish paneli</h1>
<div class="card">
<label>Test nomi:</label>
<input type="text" id="testName">

<label>Savol soni:</label>
<input type="number" id="questionCount" min="1" max="1000">

<button onclick="startTest()">Test yaratishni boshlash</button>
</div>

<div id="questions"></div>

<script>
let questionsData = [];

function startTest() {
    const count = parseInt(document.getElementById('questionCount').value);
    const container = document.getElementById('questions');
    container.innerHTML = '';
    questionsData = [];
    for(let i=1; i<=count; i++){
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
            <h3>Savol ${i}</h3>
            <textarea placeholder="Savol matni" id="q${i}"></textarea>
            <input placeholder="A variant" id="q${i}a">
            <input placeholder="B variant" id="q${i}b">
            <input placeholder="C variant" id="q${i}c">
            <input placeholder="D variant" id="q${i}d">
            <input placeholder="E variant" id="q${i}e">
            <input placeholder="To'g'ri javob (misol: A yoki A va C)" id="q${i}correct">
        `;
        container.appendChild(card);
    }
    const saveBtn = document.createElement('button');
    saveBtn.textContent = "üíæ Testni saqlash";
    saveBtn.onclick = saveTest;
    container.appendChild(saveBtn);
}

function saveTest() {
    const testName = document.getElementById('testName').value;
    const count = parseInt(document.getElementById('questionCount').value);
    const test = [];
    for(let i=1;i<=count;i++){
        test.push({
            question: document.getElementById(`q${i}`).value,
            options: [
                document.getElementById(`q${i}a`).value,
                document.getElementById(`q${i}b`).value,
                document.getElementById(`q${i}c`).value,
                document.getElementById(`q${i}d`).value,
                document.getElementById(`q${i}e`).value
            ],
            correct: document.getElementById(`q${i}correct`).value.split(' va ')
        });
    }
    fetch('https://yourserver.com/save_test', { // URLni o'zgartiring
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({name:testName, questions:test})
    }).then(res=>alert('‚úÖ Test saqlandi!'));
}
</script>
</body>
</html>
